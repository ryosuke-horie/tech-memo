### Auth.jsでロールベースの認証を実装するための調査

[NextAuth.jsを利用してユーザー権限毎に認証を実装する | Tech Q Lab - 株式会社キューのテックブログ](https://techlab.q-co.jp/articles/111/)

- NextAuth時代の記事
- middlewareの機能を組み合わせる必要がある
- Nextjsのmiddlewareを利用して、Authjsからインポートして利用するイメージ
- トークンに権限を持たせる
    - jwt
    - roleはadmin, userで持たせるために型定義も必要
- middlewareで権限を判定する

[Auth.js | Role Based Access Control](https://authjs.dev/guides/role-based-access-control)

- 公式
- プロバイダーのコールバック設定に`profile()` を追加してロールを決定
- `import { useSession } from "next-auth/react";` で利用できる
- ミドルウェアでも可能